mode: debug  # debug, devel or prod

# use 0.0.0.0 if you want to connect from another machine. Only
# affects development configuration.
dev_server_interface: 127.0.0.1
dev_server_port: 8050
dev_processes: 4

# Application paths (required for routing)
core_path: /fbfmaproom
tile_path: /fbfmaproom-tiles
admin_path: /fbfmaproom-admin

# External service URLs (required for some features)
gantt_url: https://fist-fbf-gantt2.iri.columbia.edu/gantt?

data_root: ./data

custom_asset_path: /path/to/my/custom/icons/directory

countries:
    djibouti:
        logo: Djibouti_IRI_96x48.svg
        resolution: [.25, .25]
        center: [43, 12]
        zoom: 8
        rotation: 0
        marker:  [43, 12]
        origin: [.125, 125]
        shapes:
            - name: National
              local_file: dji_admbnda_gadm_adm0_2022.shp
              key_field: ADM0_PCODE
              label_field: ADM0_EN
              sql: select adm0_code as key, adm0_name as label, ST_AsBinary(the_geom) as the_geom
                  from iridb.g2015_2012_0 where adm0_name = 'Djibouti'

            - name: Regional
              local_file: dji_admbnda_gadm_adm1_2022.shp
              key_field: ADM1_PCODE
              label_field: ADM1_EN
              sql: select code as key, INITCAP(district) as label,
                  ST_AsBinary(the_geom) as the_geom from iridb.djibouti_adm01

            - name: District
              local_file: dji_admbnda_gadm_adm2_2022.shp
              key_field: ADM2_PCODE
              label_field: ADM2_EN
              sql: select adm2_pcode as key, adm2_en as label,
                  ST_AsBinary(the_geom) as the_geom from iridb.djibouti_adm02

        datasets:
            defaults:
                predictors:
                    - pnep-v4
                predictand: bad-years-rank-v2
            observations:
                bad-years-rank-v2:
                    label: Reported bad years v2
                    description: Adjusted rank from NMA's Bad Year Classification (AA Workshop 2024)
                    path: djibouti/bad-years-v2-jas.zarr
                    var_names:
                        value: rank
                        time: T
                    colormap: precip
                    lower_is_worse: yes
                    format: number0
                    units: rank
            forecasts:
                pnep-v4:
                    label: Forecast prob non-exc v4
                    description: NextGen forecast probability of non-exceedance of selected percentile, version 4 (configuration selected July 2025 using PyCPT 2.10)
                    path: djibouti/prcp-jas-v4.zarr
                    var_names:
                        value: pne
                        lat: Y
                        lon: X
                        issue: S
                        lead: null  # dataset has forecasts for only one season; L is implicit.
                        pct: quantile
                    colormap: pne_25
                    is_poe: no
        seasons:
            season1:
                label: JAS
                target_month: 7.5
                length: 3.0
                issue_months: [3, 4, 5]
                start_year: 1990
        subpages:
            JAS: djibouti

